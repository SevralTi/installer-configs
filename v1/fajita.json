{
  "name": "OnePlus 6T",
  "codename": "fajita",
  "unlock": ["confirm_model", "upgrade_android"],
  "user_actions": {
    "recovery": {
      "title": "Reboot to Recovery",
      "description": "With the device powered off, hold Volume Down + Power.",
      "image": "phone_power_down",
      "button": true
    },
    "bootloader": {
      "title": "Reboot to Bootloader",
      "description": "With the device powered off, hold Volume UP + Volume Down + Power",
      "image": "phone_power_up_down",
      "button": true
    },
    "upgrade_android": {
      "title": "Install OxygenOS 9",
      "description": "If the device is running Android, you need to downgrade OxygenOS 10 to 9, because OnePlus 6T using Halium 9!",
    }
  },
  "operating_systems": [
    {
      "name": "Ubuntu Touch",
      "sanity_check": "Are you sure?",
      "options": [
        {
          "var": "channel",
          "name": "Channel",
          "tooltip": "The release channel",
          "link": "https://docs.ubports.com/en/latest/about/process/release-schedule.html",
          "type": "select",
          "remote_values": { "type": "systemimagechannels" }
        },
        {
          "var": "wipe",
          "name": "Wipe Userdata",
          "tooltip": "Wipe personal data",
          "type": "checkbox"
        },
      ],
      "prerequisites": [],
      "steps": [
        {
          "type": "download",
          "condition": {"var": "bootstrap", "value": true},
          "group": "firmware",
          "files": [
            {
              "url": "https://ci.ubports.com/job/Device%20Compatibility%20Images/job/halium-dora/9/artifact/halium-unlocked-recovery_dora.img",
              "checksum": "069cf56a6b3251d31e253bf308a76f456400c21abfbc7e1850475fbed1f810cb"
            }
          ]
        },
        {
          "type": "adb:reboot",
          "condition": {"var": "bootstrap", "value": true},
          "to_state": "bootloader",
          "fallback_user_action": "bootloader"
        },
        {
          "type": "fastboot:flash",
          "condition": {"var": "bootstrap", "value": true},
          "flash": [
            {
              "partition": "boot",
              "file": "halium-unlocked-recovery_dora.img",
              "group": "firmware"
            }
          ]
        },
        {
          "type": "fastboot:erase",
          "condition": {"var": "wipe", "value": true},
          "partition": "userdata"
        },
        {
          "type": "fastboot:reboot",
          "fallback_user_action": "boot",
          "group": "firmware"
        },
        {
          "type": "systemimage"
        },
        {
          "type": "adb:reboot",
          "to_state": "recovery",
          "fallback_user_action": "recovery"
        }
      ],
      "slideshow": []
    }
  ]
}

